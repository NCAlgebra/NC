Notebook[{
Cell[TextData[{"Most", " ", "Basic", " ", "Commands"}], "Section"],
Cell[TextData[{"This", " ", "chapter", " ", "provides", " ", "a", " ", "gentle", " ", "introduction", " ", "to", " ", "some", " ", "of", " ", "the", " ", "commands", " ", "available", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"If", " ", "you", " ", "want", " ", "a", " ", "living", " ", "analog", " ", "of", " ", "this", " ", "chapter", " ", "just", " ", "run", " ", "the", " ", "notebook", " ", Cell[BoxData[FormBox[RowBox[{"NC/DEMOS/1_MostBasicCommands.nb"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"Before", " ", "you", " ", "can", " ", "use", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "you", " ", "first", " ", "load", " ", "it", " ", "with", " ", "the", " ", "following", " ", "commands:"}], "Text"],
Cell["<< NC`
<< NCAlgebra`", "Input"],
Cell[TextData[{"If", " ", "you", " ", "installed", " ", "the", " ", "paclet", " ", "version", " ", "of", " ", "NCAlgebra", " ", "it", " ", "is", " ", "not", " ", "necessary", " ", "to", " ", "load", " ", "the", " ", "context", " ", Cell[BoxData[FormBox[RowBox[{"NC"}], TraditionalForm]]], " ", "before", " ", "loading", " ", "other", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "packages.", " ", "A", " ", "dummy", " ", "package", " ", Cell[BoxData[FormBox[RowBox[{"NC"}], TraditionalForm]]], " ", "is", " ", "provided", " ", "in", " ", "case", " ", "you", " ", "would", " ", "like", " ", "to", " ", "keep", " ", "your", " ", "NCAlgebra", " ", "work", " ", "compatible", " ", "with", " ", "previous", " ", "versions."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"To", " ", "Commute", " ", "Or", " ", "Not", " ", "To", " ", "Commute?"}], "Subsection"],
Cell[TextData[{"In", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], ",", " ", "the", " ", "operator", " ", Cell[BoxData[FormBox[RowBox[{"**"}], TraditionalForm]]], " ", "denotes", " ", StyleBox[Cell[TextData[{Cell[TextData[{"noncommutative", " ", "multiplication"}], "Text"]}]], FontSlant->"Italic"], ".", " ", "At", " ", "present,", " ", "single-letter", " ", "lower", " ", "case", " ", "variables", " ", "are", " ", "noncommutative", " ", "by", " ", "default", " ", "and", " ", "all", " ", "others", " ", "are", " ", "commutative", " ", "by", " ", "default.", " ", "For", " ", "example:"}], "Text"],
Cell["a**b-b**a", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell["a**b-b**a", "Output"],
Cell[TextData[{"while"}], "Text"],
Cell["A**B-B**A
A**b-b**A", "Input"],
Cell[TextData[{"both", " ", "result", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"One", " ", "of", " ", "Bill's", " ", "favorite", " ", "commands", " ", "is", " ", Cell[BoxData[FormBox[RowBox[{"CommuteEverything"}], TraditionalForm]]], ",", " ", "which", " ", "temporarily", " ", "makes", " ", "all", " ", "noncommutative", " ", "symbols", " ", "appearing", " ", "in", " ", "a", " ", "given", " ", "expression", " ", "to", " ", "behave", " ", "as", " ", "if", " ", "they", " ", "were", " ", "commutative", " ", "and", " ", "returns", " ", "the", " ", "resulting", " ", "commutative", " ", "expression.", " ", "For", " ", "example:"}], "Text"],
Cell["CommuteEverything[a**b-b**a]", "Input"],
Cell[TextData[{"results", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], ".", " ", "The", " ", "command"}], "Text"],
Cell["EndCommuteEverything[]", "Input"],
Cell[TextData[{"restores", " ", "the", " ", "original", " ", "noncommutative", " ", "behavior."}], "Text"],
Cell[TextData[{"One", " ", "can", " ", "make", " ", "any", " ", "symbol", " ", "behave", " ", "as", " ", "noncommutative", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"SetNonCommutative"}], TraditionalForm]]], ".", " ", "For", " ", "example:"}], "Text"],
Cell["SetNonCommutative[A,B]
A**B-B**A", "Input"],
Cell[TextData[{"results", " ", "in:"}], "Text"],
Cell["A**B-B**A", "Output"],
Cell[TextData[{"Likewise,", " ", "symbols", " ", "can", " ", "be", " ", "made", " ", "commutative", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"SetCommutative"}], TraditionalForm]]], ".", " ", "For", " ", "example:"}], "Text"],
Cell["SetNonCommutative[A] 
SetCommutative[B]
A**B-B**A", "Input"],
Cell[TextData[{"results", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], ".", " ", Cell[BoxData[FormBox[RowBox[{"SNC"}], TraditionalForm]]], " ", "is", " ", "an", " ", "alias", " ", "for", " ", Cell[BoxData[FormBox[RowBox[{"SetNonCommutative"}], TraditionalForm]]], ".", " ", "So,", " ", Cell[BoxData[FormBox[RowBox[{"SNC"}], TraditionalForm]]], " ", "can", " ", "be", " ", "typed", " ", "rather", " ", "than", " ", "the", " ", "longer", " ", Cell[BoxData[FormBox[RowBox[{"SetNonCommutative"}], TraditionalForm]]], ":"}], "Text"],
Cell["SNC[A];
A**a-a**A", "Input"],
Cell[TextData[{"results", " ", "in:"}], "Text"],
Cell["-a**A+A**a", "Output"],
Cell[TextData[{"One", " ", "can", " ", "check", " ", "whether", " ", "a", " ", "given", " ", "symbol", " ", "is", " ", "commutative", " ", "or", " ", "not", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"CommutativeQ"}], TraditionalForm]]], " ", "or", " ", Cell[BoxData[FormBox[RowBox[{"NonCommutativeQ"}], TraditionalForm]]], ".", " ", "For", " ", "example:"}], "Text"],
Cell["CommutativeQ[B]
NonCommutativeQ[a]", "Input"],
Cell[TextData[{"both", " ", "return", " ", Cell[BoxData[FormBox[RowBox[{"True"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "Prior", " ", "to", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], ",", " ", "noncommutative", " ", "monomials", " ", "would", " ", "be", " ", "stored", " ", "in", " ", "expanded", " ", "form,", " ", "without", " ", "exponents.", " ", "For", " ", "example,", " ", "the", " ", "monomial"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["a**b**a^2**b", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"would", " ", "be", " ", "stored", " ", "as"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NonCommutativeMultiply[a, b, a, a, b]", "Output", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"The", " ", "automatic", " ", "expansion", " ", "of", " ", "powers", " ", "of", " ", "noncommutative", " ", "symbols", " ", "required", " ", "overloading", " ", "the", " ", "behavior", " ", "of", " ", "the", " ", "built", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"Power"}], TraditionalForm]]], " ", "operator,", " ", "which", " ", "was", " ", "interfering", " ", "and", " ", "causing", " ", "much", " ", "trouble", " ", "when", " ", "commutative", " ", "polynomial", " ", "operations", " ", "were", " ", "performed", " ", "inside", " ", "an", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "session."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"Starting", " ", "with", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], ",", " ", "noncommutative", " ", "monomials", " ", "are", " ", "represented", " ", "with", " ", "exponents.", " ", "For", " ", "instance,", " ", "the", " ", "same", " ", "monomial", " ", "above", " ", "is", " ", "now", " ", "represented", " ", "as"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NonCommutativeMultiply[a, b, Power[a, 2], b]", "Output", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"Even", " ", "if", " ", "you", " ", "type", " ", Cell[BoxData[FormBox[RowBox[{"a**b**a**a**b"}], TraditionalForm]]], ",", " ", "the", " ", "repeated", " ", "symbols", " ", "get", " ", "compressed", " ", "to", " ", "the", " ", "compact", " ", "representation", " ", "with", " ", "exponents.", " ", "Exponents", " ", "are", " ", "now", " ", "also", " ", "used", " ", "to", " ", "represent", " ", "the", " ", "noncommutative", " ", "inverse.", " ", "See", " ", "the", " ", "notes", " ", "in", " ", "the", " ", "next", " ", "section."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"Inverses"}], "Subsection"],
Cell[TextData[{"The", " ", "multiplicative", " ", "identity", " ", "is", " ", "denoted", " ", Cell[BoxData[FormBox[RowBox[{"Id"}], TraditionalForm]]], " ", "in", " ", "the", " ", "program.", " ", "At", " ", "the", " ", "present", " ", "time,", " ", Cell[BoxData[FormBox[RowBox[{"Id"}], TraditionalForm]]], " ", "is", " ", "set", " ", "to", " ", "1."}], "Text"],
Cell[TextData[{"A", " ", "symbol", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], " ", "may", " ", "have", " ", "an", " ", "inverse,", " ", "which", " ", "will", " ", "be", " ", "denoted", " ", "by", " ", Cell[BoxData[FormBox[RowBox[{"inv[a]"}], TraditionalForm]]], ".", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], " ", "operates", " ", "as", " ", "expected", " ", "in", " ", "most", " ", "cases."}], "Text"],
Cell[TextData[{"For", " ", "example:"}], "Text"],
Cell["inv[a]**a
inv[a**b]**a**b", "Input"],
Cell[TextData[{"both", " ", "lead", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"Id = 1"}], TraditionalForm]]], " ", "and"}], "Text"],
Cell["a**b**inv[b]", "Input"],
Cell[TextData[{"results", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "Starting", " ", "with", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], ",", " ", "the", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], " ", "operator", " ", "acts", " ", "mostly", " ", "as", " ", "a", " ", "wrapper", " ", "for", " ", Cell[BoxData[FormBox[RowBox[{"Power"}], TraditionalForm]]], ".", " ", "For", " ", "example,", " ", Cell[BoxData[FormBox[RowBox[{"inv[a]"}], TraditionalForm]]], " ", "internally", " ", "evaluates", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"Power[a, -1]"}], TraditionalForm]]], ".", " ", "However,", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], " ", "is", " ", "still", " ", "available", " ", "and", " ", "used", " ", "to", " ", "display", " ", "the", " ", "noncommutative", " ", "inverse", " ", "of", " ", "noncommutative", " ", "expressions", " ", "outside", " ", "of", " ", "a", " ", "notebook", " ", "environment.", " ", "Beware", " ", "that", " ", Cell[BoxData[FormBox[RowBox[{"inv[a**a]"}], TraditionalForm]]], " ", "now", " ", "evaluates", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"Power[a, -2]"}], TraditionalForm]]], ",", " ", "hence", " ", "certain", " ", "patterns", " ", "may", " ", "no", " ", "longer", " ", "work.", " ", "For", " ", "example:"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NCReplace[inv[a**a], a**a -> b]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"would", " ", "produce", " ", Cell[BoxData[FormBox[RowBox[{"inv[b]"}], TraditionalForm]]], " ", "in", " ", "previous", " ", "versions", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "but", " ", "will", " ", "fail", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], "."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "Since", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "5"}], "Text"]}]], FontWeight->"Bold"], ",", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], " ", "no", " ", "longer", " ", "automatically", " ", "distributes", " ", "over", " ", "noncommutative", " ", "products.", " ", "If", " ", "this", " ", "more", " ", "aggressive", " ", "behavior", " ", "is", " ", "desired", " ", "use", " ", Cell[BoxData[FormBox[RowBox[{"SetOptions[inv, Distribute -> True]"}], TraditionalForm]]], ".", " ", "For", " ", "example"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["SetOptions[inv, Distribute -> True]
inv[a**b]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"inv[b]**inv[a]"}], TraditionalForm]]], ".", " ", "Conversely"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["SetOptions[inv, Distribute -> False]
inv[a**b]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"inv[a**b]"}], TraditionalForm]]], "."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"Transposes", " ", "and", " ", "Adjoints"}], "Subsection"],
Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"tp[x]"}], TraditionalForm]]], " ", "denotes", " ", "the", " ", "transpose", " ", "of", " ", "symbol", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"aj[x]"}], TraditionalForm]]], " ", "denotes", " ", "the", " ", "adjoint", " ", "of", " ", "symbol", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], ".", " ", "Like", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], ",", " ", "the", " ", "properties", " ", "of", " ", "transposes", " ", "and", " ", "adjoints", " ", "that", " ", "everyone", " ", "uses", " ", "constantly", " ", "are", " ", "built-in.", " ", "For", " ", "example:"}], "Text"],
Cell["tp[a**b]", "Input"],
Cell[TextData[{"leads", " ", "to"}], "Text"],
Cell["tp[b]**tp[a]", "Output"],
Cell[TextData[{"and"}], "Text"],
Cell["tp[a+b]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["tp[a]+tp[b]", "Output"],
Cell[TextData[{"Likewise,", " ", Cell[BoxData[FormBox[RowBox[{"tp[tp[a]] == a"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"tp"}], TraditionalForm]]], " ", "for", " ", "anything", " ", "for", " ", "which", " ", Cell[BoxData[FormBox[RowBox[{"CommutativeQ"}], TraditionalForm]]], " ", "returns", " ", Cell[BoxData[FormBox[RowBox[{"True"}], TraditionalForm]]], " ", "is", " ", "simply", " ", "the", " ", "identity.", " ", "For", " ", "example", " ", Cell[BoxData[FormBox[RowBox[{"tp[5] == 5"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"tp[2 + 3I] == 2 + 3 I"}], TraditionalForm]]], ",", " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"tp[B] == B"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"Similar", " ", "properties", " ", "hold", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"aj"}], TraditionalForm]]], ".", " ", "Moreover"}], "Text"],
Cell["aj[tp[a]]
tp[aj[a]]", "Input"],
Cell[TextData[{"return", " ", Cell[BoxData[FormBox[RowBox[{"co[a]"}], TraditionalForm]]], " ", "where", " ", Cell[BoxData[FormBox[RowBox[{"co"}], TraditionalForm]]], " ", "stands", " ", "for", " ", "complex-conjugate."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "Since", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "5"}], "Text"]}]], FontWeight->"Bold"], " ", "transposes", " ", "(", Cell[BoxData[FormBox[RowBox[{"tp"}], TraditionalForm]]], "),", " ", "adjoints", " ", "(", Cell[BoxData[FormBox[RowBox[{"aj"}], TraditionalForm]]], "),", " ", "complex", " ", "conjugates", " ", "(", Cell[BoxData[FormBox[RowBox[{"co"}], TraditionalForm]]], "),", " ", "and", " ", "inverses", " ", "(", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], ")", " ", "in", " ", "a", " ", "notebook", " ", "environment", " ", "render", " ", "as", " ", Cell[ToExpression["x^T", TeXForm]], ",", " ", Cell[ToExpression["x^*", TeXForm]], ",", " ", Cell[ToExpression["\\bar{x}", TeXForm]], ",", " ", "and", " ", Cell[ToExpression["x^{-1}", TeXForm]], ".", " ", Cell[BoxData[FormBox[RowBox[{"tp"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"aj"}], TraditionalForm]]], " ", "can", " ", "also", " ", "be", " ", "input", " ", "directly", " ", "as", " ", Cell[BoxData[FormBox[RowBox[{"x^T"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"x^*"}], TraditionalForm]]], ".", " ", "For", " ", "this", " ", "reason", " ", "the", " ", "symbol", " ", Cell[BoxData[FormBox[RowBox[{"T"}], TraditionalForm]]], " ", "is", " ", "now", " ", "protected", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], "."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"A", " ", "trace", " ", "like", " ", "operator,", " ", Cell[BoxData[FormBox[RowBox[{"tr"}], TraditionalForm]]], ",", " ", "was", " ", "introduced", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"v5.0.6"}], "Text"]}]], FontWeight->"Bold"], ".", " ", "It", " ", "is", " ", "a", " ", "commutative", " ", "operator", " ", "keeps", " ", "its", " ", "list", " ", "of", " ", "arguments", " ", "cyclicly", " ", "sorted", " ", "so", " ", "that", " ", Cell[BoxData[FormBox[RowBox[{"tr[b**a]"}], TraditionalForm]]], " ", "evaluates", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"tr[a**b]"}], TraditionalForm]]], " ", "and", " ", "that", " ", "automatically", " ", "distribute", " ", "over", " ", "sums", " ", "so", " ", "that", " ", "an", " ", "expression", " ", "like"}], "Text"],
Cell["tr[a**b - b**a]", "Input"],
Cell[TextData[{"always", " ", "simplifies", " ", "to", " ", "zero.", " ", "Also", " ", Cell[BoxData[FormBox[RowBox[{"b**a**tr[b**a]"}], TraditionalForm]]], " ", "simplifies", " ", "to"}], "Text"],
Cell["tr[a**b] a**b", "Output"],
Cell[TextData[{"because", " ", Cell[BoxData[FormBox[RowBox[{"tr"}], TraditionalForm]]], " ", "is", " ", "a", " ", "commutative", " ", "function.", " ", "See", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"SetCommutativeFunction"}], "Text"]}]], FontSlant->"Italic"], "SetCommutativeFunction"]], "."}], "Text"],
Cell[TextData[{"A", " ", "more", " ", "interesting", " ", "example", " ", "is"}], "Text"],
Cell["expr = (a**b - b**a)^3", "Input"],
Cell[TextData[{"for", " ", "which"}], "Text"],
Cell["NCExpand[tr[expr]]", "Input"],
Cell[TextData[{"evaluates", " ", "to"}], "Text"],
Cell["3 tr[a^2**b^2**a**b] - 3 tr[a^2**b**a**b^2]", "Output"],
Cell[TextData[{"Use", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCMatrixExpand"}], "Text"]}]], FontSlant->"Italic"], "NCMatrixExpand"]], " ", "to", " ", "expand", " ", Cell[BoxData[FormBox[RowBox[{"tr"}], TraditionalForm]]], " ", "over", " ", "matrices", " ", "with", " ", "noncommutative", " ", "entries.", " ", "For", " ", "example,"}], "Text"],
Cell["NCMatrixExpand[tr[{{a,b},{c,d}}]]", "Input"],
Cell[TextData[{"evaluates", " ", "to"}], "Text"],
Cell["tr[a] + tr[d]", "Output"],
Cell[TextData[{"Replace"}], "Subsection"],
Cell[TextData[{"A", " ", "key", " ", "feature", " ", "of", " ", "symbolic", " ", "computation", " ", "is", " ", "the", " ", "ability", " ", "to", " ", "perform", " ", "substitutions.", " ", "The", " ", "Mathematica", " ", "substitute", " ", "commands,", " ", "e.g. ", Cell[BoxData[FormBox[RowBox[{"ReplaceAll"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"/."}], TraditionalForm]]], ")", " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"ReplaceRepeated"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"//."}], TraditionalForm]]], "),", " ", "are", " ", "not", " ", "reliable", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], ",", " ", "so", " ", "you", " ", "must", " ", "use", " ", "our", " ", Cell[BoxData[FormBox[RowBox[{"NC"}], TraditionalForm]]], " ", "versions", " ", "of", " ", "these", " ", "commands.", " ", "For", " ", "example:"}], "Text"],
Cell["NCReplaceAll[x**a**b,a**b->c]", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell["x**c", "Output"],
Cell[TextData[{"and"}], "Text"],
Cell["NCReplaceAll[tp[b**a]+b**a,b**a->c]", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell["c+tp[a]**tp[b]", "Output"],
Cell[TextData[{"Use", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCMakeRuleSymmetric"}], "Text"]}]], FontSlant->"Italic"], "NCMakeRuleSymmetric"]], " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCMakeRuleSelfAdjoint"}], "Text"]}]], FontSlant->"Italic"], "NCMakeRuleSelfAdjoint"]], " ", "to", " ", "automatically", " ", "create", " ", "symmetric", " ", "and", " ", "self", " ", "adjoint", " ", "versions", " ", "of", " ", "your", " ", "rules:"}], "Text"],
Cell["NCReplaceAll[tp[b**a]+b**a, NCMakeRuleSymmetric[b**a -> c]]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["c + tp[c]", "Output"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "The", " ", "change", " ", "in", " ", "internal", " ", "representation", " ", "introduced", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], ",", " ", "in", " ", "which", " ", "repeated", " ", "letters", " ", "in", " ", "monomials", " ", "are", " ", "represented", " ", "as", " ", "powers,", " ", "presents", " ", "a", " ", "new", " ", "challenge", " ", "to", " ", "pattern", " ", "matching", " ", "for", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "expressions.", " ", "For", " ", "example,", " ", "the", " ", "seemingly", " ", "innocent", " ", "substitution"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NCReplaceAll[a**b**b, a**b -> c, ApplyPowerRule -> False]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"which", " ", "in", " ", "previous", " ", "versions", " ", "returned", " ", Cell[BoxData[FormBox[RowBox[{"c**b"}], TraditionalForm]]], " ", "will", " ", "fail", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], ".", " ", "The", " ", "reason", " ", "for", " ", "the", " ", "failure", " ", "is", " ", "that", " ", Cell[BoxData[FormBox[RowBox[{"a**b**b"}], TraditionalForm]]], " ", "is", " ", "now", " ", "internally", " ", "represented", " ", "as", " ", Cell[BoxData[FormBox[RowBox[{"a**Power[b, 2]"}], TraditionalForm]]], ",", " ", "which", " ", "does", " ", "not", " ", "match", " ", Cell[BoxData[FormBox[RowBox[{"a**b"}], TraditionalForm]]], ".", " ", "In", " ", "order", " ", "to", " ", "make", " ", "rules", " ", "with", " ", "exponents", " ", "work", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], ",", " ", "they", " ", "to", " ", "be", " ", "first", " ", "modified", " ", "by", " ", "the", " ", "new", " ", "command", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCReplacePowerRule"}], "Text"]}]], FontSlant->"Italic"], "NCReplacePowerRule"]], " ", "as", " ", "in"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NCReplaceAll[a**b**b, NCReplacePowerRule[a**b -> c], ApplyPowerRule -> False]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"For", " ", "convenience,", " ", "when", " ", "the", " ", "option", " ", Cell[BoxData[FormBox[RowBox[{"ApplyPowerRule"}], TraditionalForm]]], " ", "is", " ", "set", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"True"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"NCReplacePowerRule"}], TraditionalForm]]], " ", "gets", " ", "automatically", " ", "applied", " ", "by", " ", "all", " ", Cell[BoxData[FormBox[RowBox[{"NCReplace"}], TraditionalForm]]], " ", "family", " ", "of", " ", "functions.", " ", "In", " ", "this", " ", "way,"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NCReplaceAll[a**b**b, a**b -> c]
NCReplaceAll[a**b**b, a**b -> c, ApplyPowerRule -> True]
NCReplaceAll[a**b**b, NCReplacePowerRule[a**b -> c], ApplyPowerRule -> False]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"all", " ", "return", " ", "the", " ", "more", " ", "familiar", " ", "result"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["c**b", "Output", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], "."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCReplacePowerRule"}], "Text"]}]], FontSlant->"Italic"], "NCReplacePowerRule"]], " ", "and", " ", "the", " ", "option", " ", Cell[BoxData[FormBox[RowBox[{"ApplyPowerRule"}], TraditionalForm]]], " ", "may", " ", "not", " ", "work", " ", "with", " ", "the", " ", "most", " ", "exoteric", " ", "replacements.", " ", "See,", " ", "for", " ", "example,", " ", "the", " ", "note", " ", "in", " ", "section", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"Inverses"}], "Text"]}]], FontSlant->"Italic"], "BasicInverses"]], "."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"The", " ", "difference", " ", "between", " ", Cell[BoxData[FormBox[RowBox[{"NCReplaceAll"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"NCReplaceRepeated"}], TraditionalForm]]], " ", "can", " ", "be", " ", "understood", " ", "in", " ", "the", " ", "example:"}], "Text"],
Cell["NCReplaceAll[a**b^2, a**b -> a]", "Input"],
Cell[TextData[{"that", " ", "results", " ", "in"}], "Text"],
Cell["a**b", "Output"],
Cell[TextData[{"and"}], "Text"],
Cell["NCReplaceRepeated[a**b^2, a**b -> a]", "Input"],
Cell[TextData[{"that", " ", "results", " ", "in"}], "Text"],
Cell["a", "Output"],
Cell[TextData[{"Beside", " ", Cell[BoxData[FormBox[RowBox[{"NCReplaceAll"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"NCReplaceRepeated"}], TraditionalForm]]], " ", "we", " ", "offer", " ", Cell[BoxData[FormBox[RowBox[{"NCReplace"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"NCReplaceList"}], TraditionalForm]]], ",", " ", "which", " ", "are", " ", "analogous", " ", "to", " ", "the", " ", "standard", " ", Cell[BoxData[FormBox[RowBox[{"ReplaceAll"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"/."}], TraditionalForm]]], "),", " ", Cell[BoxData[FormBox[RowBox[{"ReplaceRepeated"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"//."}], TraditionalForm]]], "),", " ", Cell[BoxData[FormBox[RowBox[{"Replace"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"ReplaceList"}], TraditionalForm]]], ".", " ", "Note", " ", "that", " ", "one", " ", "rarely", " ", "uses", " ", Cell[BoxData[FormBox[RowBox[{"NCReplace"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"NCReplaceList"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"With", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], " ", "we", " ", "introduced", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCExpandReplaceRepeated"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCExpandReplaceRepeated"]], ",", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCExpandReplaceRepeatedSymmetric"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCExpandReplaceRepeatedSymmetric"]], ",", " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCExpandReplaceRepeatedSelfAdjoint"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCExpandReplaceRepeatedSelfAdjoint"]], ",", " ", "which", " ", "automate", " ", "the", " ", "tedious", " ", "process", " ", "of", " ", "successive", " ", "substitutions", " ", "and", " ", "expansions", " ", "that", " ", "may", " ", "be", " ", "required", " ", "to", " ", "fully", " ", "simplify", " ", "expressions.", " ", "For", " ", "example,", " ", "consider", " ", "the", " ", "expression"}], "Text"],
Cell["expr = a**b^2-b^2**a", "Input"],
Cell[TextData[{"and", " ", "the", " ", "rule"}], "Text"],
Cell["rule = a**b -> a - b", "Input"],
Cell[TextData[{"for", " ", "which"}], "Text"],
Cell["NCReplaceRepeated[expr, rule]", "Input"],
Cell[TextData[{"results", " ", "in", " ", "the", " ", "expression"}], "Text"],
Cell["(a - b)**b - b^2**a", "Output"],
Cell[TextData[{"Note", " ", "the", " ", "presence", " ", "of", " ", StyleBox[Cell[TextData[{Cell[TextData[{"parenthesized"}], "Text"]}]], FontSlant->"Italic"], " ", "terms", " ", "resulting", " ", "from", " ", "the", " ", "rule", " ", "substitution.", " ", "It", " ", "is", " ", "clear", " ", "that", " ", "after", " ", "expanding"}], "Text"],
Cell["NCExpand[NCReplaceRepeated[expr, rule]]", "Input"],
Cell[TextData[{"to", " ", "produce"}], "Text"],
Cell["a**b - b^2 - b^2**a", "Output"],
Cell[TextData[{"there", " ", "are", " ", "still", " ", "terms", " ", "that", " ", "could", " ", "be", " ", "affected", " ", "by", " ", "the", " ", "original", " ", "replacement", " ", "rule,", " ", "that,", " ", "if", " ", "replaced", " ", "again,"}], "Text"],
Cell["NCExpand[NCReplaceRepeated[expr, rule]]
NCExpand[NCReplaceRepeated[%, rule]]", "Input"],
Cell[TextData[{"would", " ", "ultimately", " ", "lead", " ", "to", " ", "a", " ", "simpler", " ", "expression"}], "Text"],
Cell["a - b - b^2 - b^2**a", "Output"],
Cell[TextData[{"This", " ", "successive", " ", "expansion", " ", "and", " ", "substitution", " ", "process", " ", "is", " ", "automated", " ", "in"}], "Text"],
Cell["NCExpandReplaceRepeated[expr, rule]", "Input"],
Cell[TextData[{"which", " ", "produces", " ", "the", " ", "final", " ", "expression"}], "Text"],
Cell["a - b - b^2 - b^2**a", "Output"],
Cell[TextData[{"in", " ", "one", " ", "shot."}], "Text"],
Cell[TextData[{"See", " ", "also", " ", "the", " ", "Sections", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"Polynomials", " ", "and", " ", "Rules"}], "Text"]}]], FontSlant->"Italic"], "PolynomialsAndRules"]], " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"Advanced", " ", "Rules", " ", "and", " ", "Replacement"}], "Text"]}]], FontSlant->"Italic"], "AdvancedReplace"]], " ", "for", " ", "a", " ", "deeper", " ", "discussion", " ", "on", " ", "some", " ", "issues", " ", "involved", " ", "with", " ", "rules", " ", "and", " ", "replacements", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "The", " ", "commands", " ", Cell[BoxData[FormBox[RowBox[{"Substitute"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"Transform"}], TraditionalForm]]], " ", "have", " ", "been", " ", "deprecated", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "5"}], "Text"]}]], FontWeight->"Bold"], " ", "in", " ", "favor", " ", "of", " ", "the", " ", "above", " ", "nc", " ", "versions", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"Replace"}], TraditionalForm]]], "."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"Polynomials"}], "Subsection"],
Cell[TextData[{"The", " ", "command", " ", Cell[BoxData[FormBox[RowBox[{"NCExpand"}], TraditionalForm]]], " ", "expands", " ", "noncommutative", " ", "products.", " ", "For", " ", "example:"}], "Text"],
Cell["NCExpand[(a+b)**x]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["a**x+b**x", "Output"],
Cell[TextData[{"Conversely,", " ", "one", " ", "can", " ", "collect", " ", "noncommutative", " ", "terms", " ", "involving", " ", "same", " ", "powers", " ", "of", " ", "a", " ", "symbol", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"NCCollect"}], TraditionalForm]]], ".", " ", "For", " ", "example:"}], "Text"],
Cell["NCCollect[a**x+b**x,x]", "Input"],
Cell[TextData[{"recovers"}], "Text"],
Cell["(a+b)**x", "Output"],
Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCCollect"}], TraditionalForm]]], " ", "groups", " ", "terms", " ", "by", " ", "degree", " ", "before", " ", "collecting", " ", "and", " ", "accepts", " ", "more", " ", "than", " ", "one", " ", "variable.", " ", "For", " ", "example:"}], "Text"],
Cell["expr = a**x+b**x+y**c+y**d+a**x**y+b**x**y
NCCollect[expr, {x}]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["y**c+y**d+(a+b)**x**(1+y)", "Output"],
Cell[TextData[{"and"}], "Text"],
Cell["NCCollect[expr, {x, y}]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["(a+b)**x+y**(c+d)+(a+b)**x**y", "Output"],
Cell[TextData[{"Note", " ", "that", " ", "the", " ", "last", " ", "term", " ", "has", " ", "degree", " ", "2", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"y"}], TraditionalForm]]], " ", "and", " ", "therefore", " ", "does", " ", "not", " ", "get", " ", "collected", " ", "with", " ", "the", " ", "first", " ", "order", " ", "terms."}], "Text"],
Cell[TextData[{"The", " ", "list", " ", "of", " ", "variables", " ", "accepts", " ", Cell[BoxData[FormBox[RowBox[{"tp"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"aj"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], ",", " ", "and"}], "Text"],
Cell["NCCollect[tp[x]**a**x+tp[x]**b**x+z,{x,tp[x]}]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["z+tp[x]**(a+b)**x", "Output"],
Cell[TextData[{"Alternatively", " ", "one", " ", "could", " ", "use"}], "Text"],
Cell["NCCollectSymmetric[tp[x]**a**x+tp[x]**b**x+z,{x}]", "Input"],
Cell[TextData[{"to", " ", "obtain", " ", "the", " ", "same", " ", "result.", " ", "A", " ", "similar", " ", "command,", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCCollectSelfAdjoint"}], "Text"]}]], FontSlant->"Italic"], "NCCollectSelfAdjoint"]], ",", " ", "works", " ", "with", " ", "self-adjoint", " ", "variables."}], "Text"],
Cell[TextData[{"There", " ", "is", " ", "also", " ", "a", " ", "stronger", " ", "version", " ", "of", " ", "collect", " ", "called", " ", Cell[BoxData[FormBox[RowBox[{"NCStrongCollect"}], TraditionalForm]]], ".", " ", Cell[BoxData[FormBox[RowBox[{"NCStrongCollect"}], TraditionalForm]]], " ", "does", " ", "not", " ", "group", " ", "terms", " ", "by", " ", "degree.", " ", "For", " ", "instance:"}], "Text"],
Cell["NCStrongCollect[expr, {x, y}]", "Input"],
Cell[TextData[{"produces"}], "Text"],
Cell["y**(c+d)+(a+b)**x**(1+y)", "Output"],
Cell[TextData[{"Keep", " ", "in", " ", "mind", " ", "that", " ", Cell[BoxData[FormBox[RowBox[{"NCStrongCollect"}], TraditionalForm]]], " ", "often", " ", "collects", " ", StyleBox[Cell[TextData[{Cell[TextData[{"more"}], "Text"]}]], FontSlant->"Italic"], " ", "than", " ", "one", " ", "would", " ", "normally", " ", "expect."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "In", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "6"}], "Text"]}]], FontWeight->"Bold"], " ", "the", " ", "commands", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCExpandExponents"}], "Text"]}]], FontSlant->"Italic"], "NCExpandExponents"]], " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCCollectExponents"}], "Text"]}]], FontSlant->"Italic"], "NCCollectExponents"]], " ", "expands", " ", "and", " ", "collects", " ", "exponents", " ", "of", " ", "expressions", " ", "in", " ", "noncommutative", " ", "monomials.", " ", "For", " ", "example"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NCExpandExponents[a**(b**a)^2**b]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"produces"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["a**b**a**b**a**b", "Output", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"and"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["NCCollectExponents[a**b**a**b**a**b]", "Input", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"produces"}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell["(a**b)^3", "Output", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "provides", " ", "some", " ", "commands", " ", "for", " ", "noncommutative", " ", "polynomial", " ", "manipulation", " ", "that", " ", "are", " ", "similar", " ", "to", " ", "the", " ", "native", " ", "Mathematica", " ", "(commutative)", " ", "polynomial", " ", "commands.", " ", "Some", " ", "of", " ", "the", " ", "next", " ", "commands", " ", "required", " ", "the", " ", "loading", " ", "of", " ", "the", " ", "package"}], "Text"],
Cell["<< NCPolyInterface`", "Input"],
Cell[TextData[{"which", " ", "provides", " ", "an", " ", "interface", " ", "between", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "and", " ", "the", " ", "low-level", " ", "package", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCPoly"}], "Text"]}]], FontSlant->"Italic"], "PackageNCPoly"]], "."}], "Text"],
Cell[TextData[{"For", " ", "example:"}], "Text"],
Cell["SetCommutative[A, B]
expr = B + A y**x**y - 2 x
vars = NCVariables[expr]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["{x,y}", "Output"],
Cell[TextData[{"and"}], "Text"],
Cell["NCCoefficientList[expr, vars]
NCMonomialList[expr, vars]
NCCoefficientRules[expr, vars]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["{B, -2, A}
{1, x, y**x**y}
{1 -> B, x -> -2, y**x**y -> A}", "Output"],
Cell[TextData[{"Also", " ", "for", " ", "testing"}], "Text"],
Cell["NCMonomialQ[expr]", "Input"],
Cell[TextData[{"will", " ", "return", " ", Cell[BoxData[FormBox[RowBox[{"False"}], TraditionalForm]]], " ", "and"}], "Text"],
Cell["NCPolynomialQ[expr]", "Input"],
Cell[TextData[{"will", " ", "return", " ", Cell[BoxData[FormBox[RowBox[{"True"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"Another", " ", "useful", " ", "command", " ", "is", " ", Cell[BoxData[FormBox[RowBox[{"NCTermsOfDegree"}], TraditionalForm]]], ",", " ", "which", " ", "will", " ", "returns", " ", "an", " ", "expression", " ", "with", " ", "terms", " ", "of", " ", "a", " ", "certain", " ", "degree.", " ", "For", " ", "instance:"}], "Text"],
Cell["NCTermsOfDegree[x**y**x - x^2**y + x**w + z**w, {x,y}, {2,1}]", "Input"],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"x**y**x - x^2**y"}], TraditionalForm]]], ","}], "Text"],
Cell["NCTermsOfDegree[x**y**x - x^2**y + x**w + z**w, {x,y}, {0,0}]", "Input"],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"z**w"}], TraditionalForm]]], ",", " ", "and"}], "Text"],
Cell["NCTermsOfDegree[x**y**x - x^2**y + x**w + z**w, {x,y}, {0,1}]", "Input"],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"A", " ", "similar", " ", "command", " ", "is", " ", Cell[BoxData[FormBox[RowBox[{"NCTermsOfTotalDegree"}], TraditionalForm]]], ",", " ", "which", " ", "works", " ", "just", " ", "like", " ", Cell[BoxData[FormBox[RowBox[{"NCTermsOfDegree"}], TraditionalForm]]], " ", "but", " ", "considers", " ", "the", " ", "total", " ", "degree", " ", "in", " ", "all", " ", "variables.", " ", "For", " ", "example:"}], "Text"],
Cell[TextData[{"For", " ", "example,"}], "Text"],
Cell["NCTermsOfTotalDegree[x**y**x - x^2**y + x**w + z**w, {x,y}, 3]", "Input"],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"x**y**x - x^2**y"}], TraditionalForm]]], ",", " ", "and"}], "Text"],
Cell["NCTermsOfTotalDegree[x**y**x - x^2**y + x**w + z**w, {x,y}, 2]", "Input"],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"The", " ", "above", " ", "commands", " ", "are", " ", "based", " ", "on", " ", "special", " ", "packages", " ", "for", " ", "efficiently", " ", "storing", " ", "and", " ", "calculating", " ", "with", " ", "nc", " ", "polynomials.", " ", "Those", " ", "packages", " ", "are"}], "Text"],
Cell[TextData[{Cell[TextData[{Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCPolynomial"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCPolynomial"]], ":", " ", "which", " ", "handles", " ", "polynomials", " ", "with", " ", "noncommutative", " ", "coefficients,", " ", "and"}], "Text"]}], "Item"],
Cell[TextData[{Cell[TextData[{Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCPoly"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCPoly"]], ":", " ", "which", " ", "handles", " ", "polynomials", " ", "with", " ", "real", " ", "coefficients."}], "Text"]}], "Item"],
Cell[TextData[{"For", " ", "example:"}], "Text"],
Cell["1 + y**x**y - A x", "Input"],
Cell[TextData[{"is", " ", "a", " ", "polynomial", " ", "with", " ", "commutative", " ", "coefficients", " ", "in", " ", Cell[ToExpression["x", TeXForm]], " ", "and", " ", Cell[ToExpression["y", TeXForm]], ",", " ", "whereas"}], "Text"],
Cell["a**y**b**x**c**y - A x**d", "Input"],
Cell[TextData[{"is", " ", "a", " ", "polynomial", " ", "with", " ", "nc", " ", "coefficients", " ", "in", " ", Cell[ToExpression["x", TeXForm]], " ", "and", " ", Cell[ToExpression["y", TeXForm]], ",", " ", "where", " ", "the", " ", "letters", " ", Cell[ToExpression["a", TeXForm]], ",", " ", Cell[ToExpression["b", TeXForm]], ",", " ", Cell[ToExpression["c", TeXForm]], ",", " ", "and", " ", Cell[ToExpression["d", TeXForm]], ",", " ", "are", " ", "the", " ", StyleBox[Cell[TextData[{Cell[TextData[{"nc", " ", "coefficients"}], "Text"]}]], FontSlant->"Italic"], ".", " ", "Of", " ", "course"}], "Text"],
Cell["1 + y**x**y - A x", "Input"],
Cell[TextData[{"is", " ", "a", " ", "polynomial", " ", "with", " ", "nc", " ", "coefficients", " ", "if", " ", "one", " ", "considers", " ", "only", " ", Cell[ToExpression["x", TeXForm]], " ", "as", " ", "the", " ", "variable", " ", "of", " ", "interest."}], "Text"],
Cell[TextData[{"In", " ", "order", " ", "to", " ", "take", " ", "full", " ", "advantage", " ", "of", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCPoly"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCPoly"]], " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCPolynomial"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCPolynomial"]], " ", "one", " ", "would", " ", "need", " ", "to", " ", StyleBox[Cell[TextData[{Cell[TextData[{"convert"}], "Text"]}]], FontSlant->"Italic"], " ", "an", " ", "expression", " ", "into", " ", "those", " ", "special", " ", "formats.", " ", "See", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCPolyInterface"}], "Text"]}]], FontSlant->"Italic"], "PackageNCPolyInterface"]], ",", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCPoly"}], "Text"]}]], FontSlant->"Italic"], "PackageNCPoly"]], ",", " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"NCPolynomial"}], "Text"]}]], FontSlant->"Italic"], "PackageNCPolynomial"]], " ", "for", " ", "details."}], "Text"],
Cell[TextData[{"Rationals", " ", "and", " ", "Simplification"}], "Subsection"],
Cell[TextData[{"One", " ", "of", " ", "the", " ", "great", " ", "challenges", " ", "of", " ", "noncommutative", " ", "symbolic", " ", "algebra", " ", "is", " ", "the", " ", "simplification", " ", "of", " ", "rational", " ", "nc", " ", "expressions.", " ", Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "provides", " ", "various", " ", "algorithms", " ", "that", " ", "can", " ", "be", " ", "used", " ", "for", " ", "simplification", " ", "and", " ", "general", " ", "manipulation", " ", "of", " ", "nc", " ", "rationals."}], "Text"],
Cell[TextData[{"One", " ", "such", " ", "function", " ", "is", " ", Cell[BoxData[FormBox[RowBox[{"NCSimplifyRational"}], TraditionalForm]]], ",", " ", "which", " ", "attempts", " ", "to", " ", "simplify", " ", "noncommutative", " ", "rationals", " ", "using", " ", "a", " ", "predefined", " ", "set", " ", "of", " ", "rules.", " ", "For", " ", "example:"}], "Text"],
Cell["expr = 1+inv[d]**c**inv[S-a]**b-inv[d]**c**inv[S-a+b**inv[d]**c]**b \
       -inv[d]**c**inv[S-a+b**inv[d]**c]**b**inv[d]**c**inv[S-a]**b
NCSimplifyRational[expr]", "Input"],
Cell[TextData[{"leads", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"1"}], TraditionalForm]]], ".", " ", "Of", " ", "course", " ", "the", " ", "great", " ", "challenge", " ", "here", " ", "is", " ", "to", " ", "reveal", " ", "well", " ", "known", " ", "identities", " ", "that", " ", "can", " ", "lead", " ", "to", " ", "simplification.", " ", "For", " ", "example,", " ", "the", " ", "two", " ", "expressions:"}], "Text"],
Cell["expr1 = a**inv[1+b**a]
expr2 = inv[1+a**b]**a", "Input"],
Cell[TextData[{"and", " ", "one", " ", "can", " ", "use", " ", Cell[BoxData[FormBox[RowBox[{"NCSimplifyRational"}], TraditionalForm]]], " ", "to", " ", "test", " ", "such", " ", "equivalence", " ", "by", " ", "evaluating"}], "Text"],
Cell["NCSimplifyRational[expr1 - expr2]", "Input"],
Cell[TextData[{"which", " ", "results", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], " ", "or"}], "Text"],
Cell["NCSimplifyRational[expr1**inv[expr2]]", "Input"],
Cell[TextData[{"which", " ", "results", " ", "in", " ", Cell[BoxData[FormBox[RowBox[{"1"}], TraditionalForm]]], ".", " ", Cell[BoxData[FormBox[RowBox[{"NCSimplifyRational"}], TraditionalForm]]], " ", "works", " ", "by", " ", "transforming", " ", "nc", " ", "rationals.", " ", "For", " ", "example,", " ", "one", " ", "can", " ", "verify", " ", "that"}], "Text"],
Cell["NCSimplifyRational[expr2] == expr1", "Input"],
Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "has", " ", "a", " ", "number", " ", "of", " ", "packages", " ", "that", " ", "can", " ", "be", " ", "used", " ", "to", " ", "manipulate", " ", "rational", " ", "nc", " ", "expressions.", " ", "The", " ", "packages:"}], "Text"],
Cell[TextData[{Cell[TextData[{Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCGBX"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCGBX"]], " ", "perform", " ", "calculations", " ", "with", " ", "nc", " ", "rationals", " ", "using", " ", "Gr\[ODoubleDot]bner", " ", "basis,", " ", "and"}], "Text"]}], "Item"],
Cell[TextData[{Cell[TextData[{Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCRational"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCRational"]], " ", "creates", " ", "state-space", " ", "representations", " ", "of", " ", "nc", " ", "rationals.", " ", "This", " ", "package", " ", "is", " ", "still", " ", "experimental."}], "Text"]}], "Item"],
Cell[TextData[{"Calculus"}], "Subsection"],
Cell[TextData[{"The", " ", "package", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCDiff"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCDiff"]], " ", "provide", " ", "functions", " ", "for", " ", "calculating", " ", "derivatives", " ", "and", " ", "integrals", " ", "of", " ", "nc", " ", "polynomials", " ", "and", " ", "nc", " ", "rationals."}], "Text"],
Cell["<< NCDiff`", "Input"],
Cell[TextData[{"The", " ", "main", " ", "command", " ", "is", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCDirectionalD"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCDirectionalD"]], " ", "which", " ", "calculates", " ", "directional", " ", "derivatives", " ", "in", " ", "one", " ", "or", " ", "many", " ", "variables.", " ", "For", " ", "example,", " ", "if:"}], "Text"],
Cell["expr = a**inv[1+x]**b + x**c**x", "Input"],
Cell[TextData[{"then"}], "Text"],
Cell["NCDirectionalD[expr, {x,h}]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["h**c**x + x**c**h - a**inv[1+x]**h**inv[1+x]**b", "Output"],
Cell[TextData[{"In", " ", "the", " ", "case", " ", "of", " ", "more", " ", "than", " ", "one", " ", "variables", " ", Cell[BoxData[FormBox[RowBox[{"NCDirectionalD[expr, {x,h}, {y,k}]"}], TraditionalForm]]], " ", "takes", " ", "the", " ", "directional", " ", "derivative", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"expr"}], TraditionalForm]]], " ", "with", " ", "respect", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], " ", "in", " ", "the", " ", "direction", " ", Cell[BoxData[FormBox[RowBox[{"h"}], TraditionalForm]]], " ", "and", " ", "with", " ", "respect", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"y"}], TraditionalForm]]], " ", "in", " ", "the", " ", "direction", " ", Cell[BoxData[FormBox[RowBox[{"k"}], TraditionalForm]]], ".", " ", "For", " ", "example,", " ", "if:"}], "Text"],
Cell["expr = x**q**x - y**x", "Input"],
Cell[TextData[{"then"}], "Text"],
Cell["NCDirectionalD[expr, {x,h}, {y,k}]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["h**q**x + x**q*h - y**h - k**x", "Output"],
Cell[TextData[{"A", " ", "further", " ", "example,", " ", "if:"}], "Text"],
Cell["expr = x**a**x**b + x**c**x**d", "Input"],
Cell[TextData[{"then", " ", "its", " ", "directional", " ", "derivative", " ", "in", " ", "the", " ", "direction", " ", Cell[BoxData[FormBox[RowBox[{"h"}], TraditionalForm]]], " ", "is"}], "Text"],
Cell["NCDirectionalD[expr, {x,h}]", "Input"],
Cell[TextData[{"which", " ", "returns"}], "Text"],
Cell["h**a**x**b + x**a**h**b + h**c**x**d + x**c**h**d", "Output"],
Cell[TextData[{"The", " ", "command", " ", Cell[BoxData[FormBox[RowBox[{"NCGrad"}], TraditionalForm]]], " ", "calculates", " ", "nc", " ", StyleBox[Cell[TextData[{Cell[TextData[{"gradients"}], "Text"]}]], FontSlant->"Italic"], (* See [^1] *), "."}], "Text"],
Cell[TextData[{"For", " ", "example:"}], "Text"],
Cell["NCGrad[expr, x]", "Input"],
Cell[TextData[{"returns", " ", "the", " ", "nc", " ", "gradient"}], "Text"],
Cell["a**x**b + b**x**a + c**x**d + d**x**c", "Output"],
Cell[TextData[{"A", " ", "further", " ", "example,", " ", "if:"}], "Text"],
Cell["expr = x**a**x**b + x**c**y**d", "Input"],
Cell[TextData[{"is", " ", "a", " ", "function", " ", "on", " ", "variables", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"y"}], TraditionalForm]]], " ", "then"}], "Text"],
Cell["NCGrad[expr, x, y]", "Input"],
Cell[TextData[{"returns", " ", "the", " ", "nc", " ", "gradient", " ", "list"}], "Text"],
Cell["{a**x**b + b**x**a + c**y**d, d**x**c}", "Output"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "5"}], "Text"]}]], FontWeight->"Bold"], " ", "introduced", " ", "experimental", " ", "support", " ", "for", " ", "integration", " ", "of", " ", "nc", " ", "polynomials.", " ", "See", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCIntegrate"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCIntegrate"]], "."}], "Text"],
Cell[TextData[{"Matrices"}], "Subsection"],
Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCAlgebra"}], TraditionalForm]]], " ", "has", " ", "many", " ", "commands", " ", "for", " ", "manipulating", " ", "matrices", " ", "with", " ", "noncommutative", " ", "entries.", " ", "Think", " ", "block-matrices.", " ", "Matrices", " ", "are", " ", "represented", " ", "in", " ", "Mathematica", " ", "using", " ", StyleBox[Cell[TextData[{Cell[TextData[{"lists", " ", "of", " ", "lists"}], "Text"]}]], FontSlant->"Italic"], ".", " ", "For", " ", "example"}], "Text"],
Cell["m = {{a, b}, {c, d}}", "Input"],
Cell[TextData[{"is", " ", "a", " ", "representation", " ", "for", " ", "the", " ", "matrix"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\left[\\begin{array}{cc} 
a & b \\\\ 
c & d 
\\end{array}\\right]", TeXForm]]}], "Text"],
Cell[TextData[{"The", " ", "Mathematica", " ", "command", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], " ", "output", " ", "pretty", " ", "matrices.", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm[m]"}], TraditionalForm]]], " ", "prints", " ", Cell[BoxData[FormBox[RowBox[{"m"}], TraditionalForm]]], " ", "in", " ", "a", " ", "form", " ", "similar", " ", "to", " ", "the", " ", "above", " ", "matrix.", " ", "Beware", " ", "when", " ", "copying", " ", "and", " ", "pasting", " ", "parts", " ", "of", " ", "an", " ", "expression", " ", "rendered", " ", "by", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], " ", "because", " ", "it", " ", "may", " ", "not", " ", "execute", " ", "correctly.", " ", "If", " ", "in", " ", "doubt,", " ", "use", " ", Cell[BoxData[FormBox[RowBox[{"FullForm"}], TraditionalForm]]], " ", "to", " ", "reveal", " ", "the", " ", "contents", " ", "of", " ", "the", " ", "expression."}], "Text"],
Cell[TextData[{"The", " ", "experienced", " ", "matrix", " ", "analyst", " ", "should", " ", "always", " ", "remember", " ", "that", " ", "the", " ", "Mathematica", " ", "convention", " ", "for", " ", "handling", " ", "vectors", " ", "is", " ", "tricky."}], "Text"],
Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"{{1, 2, 4}}"}], TraditionalForm]]], " ", "is", " ", "a", " ", "1x3", " ", StyleBox[Cell[TextData[{Cell[TextData[{"matrix"}], "Text"]}]], FontSlant->"Italic"], " ", "or", " ", "a", " ", StyleBox[Cell[TextData[{Cell[TextData[{"row", " ", "vector"}], "Text"]}]], FontSlant->"Italic"], ";"}], "Text"]}], "Item"],
Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"{{1}, {2}, {4}}"}], TraditionalForm]]], " ", "is", " ", "a", " ", "3x1", " ", StyleBox[Cell[TextData[{Cell[TextData[{"matrix"}], "Text"]}]], FontSlant->"Italic"], " ", "or", " ", "a", " ", StyleBox[Cell[TextData[{Cell[TextData[{"column", " ", "vector"}], "Text"]}]], FontSlant->"Italic"], ";"}], "Text"]}], "Item"],
Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"{1, 2, 4}"}], TraditionalForm]]], " ", "is", " ", "a", " ", StyleBox[Cell[TextData[{Cell[TextData[{"vector"}], "Text"]}]], FontSlant->"Italic"], " ", "but", " ", StyleBox[Cell[TextData[{Cell[TextData[{"not"}], "Text"]}]], FontWeight->"Bold"], " ", "a", " ", StyleBox[Cell[TextData[{Cell[TextData[{"matrix"}], "Text"]}]], FontSlant->"Italic"], ".", " ", "Indeed", " ", "whether", " ", "it", " ", "is", " ", "a", " ", "row", " ", "or", " ", "column", " ", "vector", " ", "depends", " ", "on", " ", "the", " ", "context.", " ", "We", " ", "advise", " ", "not", " ", "to", " ", "use", " ", StyleBox[Cell[TextData[{Cell[TextData[{"vectors"}], "Text"]}]], FontSlant->"Italic"], "."}], "Text"]}], "Item"],
Cell[TextData[{"Inverses,", " ", "Products,", " ", "Adjoints,", " ", "etc"}], "Subsubsection"],
Cell[TextData[{"A", " ", "useful", " ", "command", " ", "is", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCInverse"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCInverse"]], ",", " ", "which", " ", "is", " ", "akin", " ", "to", " ", "Mathematica's", " ", Cell[BoxData[FormBox[RowBox[{"Inverse"}], TraditionalForm]]], " ", "command", " ", "and", " ", "produces", " ", "a", " ", "block-matrix", " ", "inverse", " ", "formula", (* See [^2] *), " ", "for", " ", "an", " ", "nc", " ", "matrix.", " ", "For", " ", "example"}], "Text"],
Cell["NCInverse[m]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["{{inv[a]**(1 + b**inv[d - c**inv[a]**b]**c**inv[a]), -inv[a]**b**inv[d - c**inv[a]**b]}, 
{-inv[d - c**inv[a]**b]**c**inv[a], inv[d - c**inv[a]**b]}}", "Output"],
Cell[TextData[{"or,", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], ","}], "Text"],
Cell["NCInverse[m] // MatrixForm", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix} 
a^{-1} (1 + b (d - c a^{-1} b)^{-1} c a^{-1}) & -a^{-1} b (d - c a^{-1} b)^{-1} \\\\
-(d - c a^{-1} b)^{-1} c a^{-1} & (d - c a^{-1} b)^{-1} 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"Note", " ", "that", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"d - c**inv[a]**b"}], TraditionalForm]]], " ", "were", " ", "assumed", " ", "invertible", " ", "during", " ", "the", " ", "calculation."}], "Text"],
Cell[TextData[{"Similarly,", " ", "one", " ", "can", " ", "multiply", " ", "matrices", " ", "using", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCDot"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCDot"]], ",", " ", "which", " ", "is", " ", "similar", " ", "to", " ", "Mathematica's", " ", Cell[BoxData[FormBox[RowBox[{"Dot"}], TraditionalForm]]], ".", " ", "For", " ", "example"}], "Text"],
Cell["m1 = {{a, b}, {c, d}}
m2 = {{d, 2}, {e, 3}}
NCDot[m1, m2]", "Input"],
Cell[TextData[{"result", " ", "in"}], "Text"],
Cell["{{a**d + b**e, 2 a + 3 b}, {c**d + d**e, 2 c + 3 d}}", "Output"],
Cell[TextData[{"Note", " ", "that", " ", "products", " ", "of", " ", "nc", " ", "symbols", " ", "appearing", " ", "in", " ", "the", " ", "matrices", " ", "are", " ", "multiplied", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"**"}], TraditionalForm]]], ".", " ", "Compare", " ", "that", " ", "with", " ", "the", " ", "standard", " ", Cell[BoxData[FormBox[RowBox[{"Dot"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"."}], TraditionalForm]]], ")", " ", "operator."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", Cell[BoxData[FormBox[RowBox[{"NCDot"}], TraditionalForm]]], " ", "replaces", " ", Cell[BoxData[FormBox[RowBox[{"MatMult"}], TraditionalForm]]], ",", " ", "which", " ", "is", " ", "still", " ", "available", " ", "for", " ", "backward", " ", "compatibility", " ", "but", " ", "will", " ", "be", " ", "deprecated", " ", "in", " ", "future", " ", "releases."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"There", " ", "are", " ", "many", " ", "new", " ", "improvements", " ", "with", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "5"}], "Text"]}]], FontWeight->"Bold"], ".", " ", "For", " ", "instance,", " ", "operators", " ", Cell[BoxData[FormBox[RowBox[{"tp"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"aj"}], TraditionalForm]]], ",", " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"co"}], TraditionalForm]]], " ", "now", " ", "operate", " ", "directly", " ", "over", " ", "matrices.", " ", "That", " ", "is"}], "Text"],
Cell["aj[{{a,tp[b]},{co[c],aj[d]}}]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["{{aj[a],tp[c]},{co[b],d}}", "Output"],
Cell[TextData[{"In", " ", "previous", " ", "versions", " ", "one", " ", "had", " ", "to", " ", "use", " ", "the", " ", "special", " ", "commands", " ", Cell[BoxData[FormBox[RowBox[{"tpMat"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"ajMat"}], TraditionalForm]]], ",", " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"coMat"}], TraditionalForm]]], ".", " ", "Those", " ", "are", " ", "still", " ", "supported", " ", "for", " ", "backward", " ", "compatibility."}], "Text"],
Cell[TextData[{"See", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"advanced", " ", "matrix", " ", "commands"}], "Text"]}]], FontSlant->"Italic"], "AdvancedMatrices"]], " ", "for", " ", "other", " ", "useful", " ", "matrix", " ", "manipulation", " ", "routines,", " ", "such", " ", "as", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixExpand"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCMatrixExpand"]], ",", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixReplaceAll"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCMatrixReplaceAll"]], ",", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixReplaceRepeated"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCMatrixReplaceRepeated"]], ",", " ", "etc,", " ", "that", " ", "allow", " ", "one", " ", "to", " ", "work", " ", "with", " ", "matrices", " ", "with", " ", "symbolic", " ", "noncommutative", " ", "entries."}], "Text"],
Cell[TextData[{"LU", " ", "Decomposition"}], "Subsubsection"],
Cell[TextData[{"Behind", " ", Cell[BoxData[FormBox[RowBox[{"NCInverse"}], TraditionalForm]]], " ", "there", " ", "are", " ", "a", " ", "host", " ", "of", " ", "linear", " ", "algebra", " ", "algorithms", " ", "which", " ", "are", " ", "available", " ", "in", " ", "the", " ", "package:"}], "Text"],
Cell[TextData[{Cell[TextData[{Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixDecompositions"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCMatrixDecompositions"]], ":", " ", "implements", " ", "versions", " ", "of", " ", "the", " ", Cell[ToExpression["LU", TeXForm]], " ", "Decomposition", " ", "with", " ", "partial", " ", "and", " ", "complete", " ", "pivoting,", " ", "as", " ", "well", " ", "as", " ", Cell[ToExpression["LDL", TeXForm]], " ", "Decomposition", " ", "which", " ", "are", " ", "suitable", " ", "for", " ", "calculations", " ", "with", " ", "nc", " ", "matrices.", " ", "Those", " ", "functions", " ", "are", " ", "based", " ", "on", " ", "the", " ", "templated", " ", "algorithms", " ", "from", " ", "the", " ", "package", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"MatrixDecompositions"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageMatrixDecompositions"]], "."}], "Text"]}], "Item"],
Cell[TextData[{"For", " ", "instance", " ", "the", " ", "function", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCLUDecompositionWithPartialPivoting"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCLUDecompositionWithPartialPivoting"]], " ", "can", " ", "be", " ", "used", " ", "as"}], "Text"],
Cell["m = {{a, b}, {c, d}}
{lu, p} = NCLUDecompositionWithPartialPivoting[m]", "Input"],
Cell[TextData[{"which", " ", "returns"}], "Text"],
Cell["lu = {{a, b}, {c**inv[a], d - c**inv[a]**b}}
p = {1, 2}", "Output"],
Cell[TextData[{"Using", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], ":"}], "Text"],
Cell["MatrixForm[lu]", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix} 
a & b \\\\ 
c a^{-1} & d - c a^{-1} b 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"The", " ", "list", " ", Cell[BoxData[FormBox[RowBox[{"p"}], TraditionalForm]]], " ", "encodes", " ", "the", " ", "sequence", " ", "of", " ", "permutations", " ", "calculated", " ", "during", " ", "the", " ", "execution", " ", "of", " ", "the", " ", "algorithm.", " ", "The", " ", "matrix", " ", Cell[BoxData[FormBox[RowBox[{"lu"}], TraditionalForm]]], " ", "contains", " ", "the", " ", "factors", " ", Cell[ToExpression["L", TeXForm]], " ", "and", " ", Cell[ToExpression["U", TeXForm]], " ", "in", " ", "the", " ", "way", " ", "most", " ", "common", " ", "to", " ", "numerical", " ", "analysts.", " ", "These", " ", "factors", " ", "can", " ", "be", " ", "recovered", " ", "using"}], "Text"],
Cell["{ll, uu} = GetFullLUMatrices[lu]", "Input"],
Cell[TextData[{"resulting", " ", "in", " ", "this", " ", "case", " ", "in"}], "Text"],
Cell["ll = {{1, 0}, {c**inv[a], 1}}
uu = {{a, b}, {0, d - c**inv[a]**b}}", "Output"],
Cell[TextData[{"Using", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], ":"}], "Text"],
Cell["MatrixForm[ll]
MatrixForm[uu]", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell[TextData[{Cell[ToExpression["L = \\begin{bmatrix} 
1 & 0 \\\\ 
c a^{-1} & 1 
\\end{bmatrix}, \\qquad
U = \\begin{bmatrix} 
a & b \\\\ 
0 & d - c a^{-1} b 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"To", " ", "verify", " ", "that", " ", Cell[ToExpression["M = L U", TeXForm]], ",", " ", "input"}], "Text"],
Cell["m - NCDot[ll, uu]", "Input"],
Cell[TextData[{"which", " ", "should", " ", "return", " ", "a", " ", "zero", " ", "matrix."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"Note:"}], "Text"]}]], FontWeight->"Bold"], " ", "if", " ", "you", " ", "are", " ", "looking", " ", "for", " ", "efficiency,", " ", "the", " ", "function", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"GetLUMatrices"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "GetLUMatrices"]], " ", "(also", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"GetLDUMatrices"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "GetLDUMatrices"]], ")", " ", "returns", " ", "the", " ", "factors", " ", Cell[BoxData[FormBox[RowBox[{"l"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"u"}], TraditionalForm]]], " ", "as", " ", Cell[BoxData[FormBox[RowBox[{"SparseArrays"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"The", " ", "default", " ", "pivoting", " ", "strategy", " ", "prioritizes", " ", "pivoting", " ", "on", " ", "simpler", " ", "expressions.", " ", "For", " ", "instance,"}], "Text"],
Cell["m = {{a, b}, {1, d}}
{lu, p} = NCLUDecompositionWithPartialPivoting[m]
{ll, uu} = GetFullLUMatrices[lu]", "Input"],
Cell[TextData[{"result", " ", "in", " ", "the", " ", "factors"}], "Text"],
Cell["ll = {{1, 0}, {a, 1}}
uu = {{1, d}, {0, b - a**d}}", "Output"],
Cell[TextData[{"and", " ", "a", " ", "permutation", " ", "list"}], "Text"],
Cell["p = {2, 1}", "Output"],
Cell[TextData[{"which", " ", "indicates", " ", "that", " ", "the", " ", "number", " ", Cell[BoxData[FormBox[RowBox[{"1"}], TraditionalForm]]], ",", " ", "appearing", " ", "in", " ", "the", " ", "second", " ", "row,", " ", "was", " ", "used", " ", "as", " ", "the", " ", "pivot", " ", "rather", " ", "than", " ", "the", " ", "symbol", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], " ", "appearing", " ", "on", " ", "the", " ", "first", " ", "row.", " ", "Because", " ", "of", " ", "the", " ", "permutation,", " ", "to", " ", "verify", " ", "that", " ", Cell[ToExpression["P M = L U", TeXForm]], ",", " ", "input"}], "Text"],
Cell["m[[p]] - NCDot[ll, uu]", "Input"],
Cell[TextData[{"which", " ", "should", " ", "return", " ", "a", " ", "zero", " ", "matrix.", " ", "Note", " ", "that", " ", "in", " ", "the", " ", "above", " ", "example", " ", "the", " ", "permutation", " ", "matrix", " ", Cell[ToExpression["P", TeXForm]], " ", "is", " ", "never", " ", "constructed.", " ", "Instead,", " ", "the", " ", "rows", " ", "of", " ", Cell[ToExpression["M", TeXForm]], " ", "are", " ", "directly", " ", "permuted", " ", "using", " ", "Mathematica's", " ", Cell[BoxData[FormBox[RowBox[{"Part"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"[[]]"}], TraditionalForm]]], ")", " ", "command.", " ", "Of", " ", "course,", " ", "if", " ", "one", " ", "prefers", " ", "to", " ", "work", " ", "with", " ", "permutation", " ", "matrices,", " ", "they", " ", "can", " ", "be", " ", "easily", " ", "obtained", " ", "by", " ", "permuting", " ", "the", " ", "rows", " ", "of", " ", "the", " ", "identity", " ", "matrix", " ", "as", " ", "in", " ", "the", " ", "following", " ", "example"}], "Text"],
Cell["p = {2, 1, 3}
IdentityMatrix[3][[p]] // MatrixForm", "Input"],
Cell[TextData[{"to", " ", "produce"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix} 
0 & 1 & 0 \\\\ 
1 & 0 & 0 \\\\ 
0 & 0 & 1 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"Likewise"}], "Text"],
Cell["m = {{a + b, b}, {c, d}}
{lu, p} = NCLUDecompositionWithPartialPivoting[m]
{ll, uu} = GetFullLUMatrices[lu]", "Input"],
Cell[TextData[{"returns"}], "Text"],
Cell["p = {2, 1}
ll = {{1, 0}, {(a + b)**inv[c], 1}} 
uu = {{c, d}, {0, b - (a + b)**inv[c]**d}}", "Output"],
Cell[TextData[{"showing", " ", "that", " ", "the", " ", StyleBox[Cell[TextData[{Cell[TextData[{"simpler"}], "Text"]}]], FontSlant->"Italic"], " ", "expression", " ", Cell[BoxData[FormBox[RowBox[{"c"}], TraditionalForm]]], " ", "was", " ", "taken", " ", "as", " ", "a", " ", "pivot", " ", "instead", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"a + b"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"The", " ", "function", " ", Cell[BoxData[FormBox[RowBox[{"NCLUDecompositionWithPartialPivoting"}], TraditionalForm]]], " ", "is", " ", "the", " ", "one", " ", "that", " ", "is", " ", "used", " ", "by", " ", Cell[BoxData[FormBox[RowBox[{"NCInverse"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"LU", " ", "Decomposition", " ", "with", " ", "Complete", " ", "Pivoting"}], "Subsubsection"],
Cell[TextData[{"Another", " ", "factorization", " ", "algorithm", " ", "is", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCLUDecompositionWithCompletePivoting"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCLUDecompositionWithCompletePivoting"]], ",", " ", "which", " ", "can", " ", "be", " ", "used", " ", "to", " ", "calculate", " ", "the", " ", "symbolic", " ", "rank", " ", "of", " ", "nc", " ", "matrices.", " ", "For", " ", "example"}], "Text"],
Cell["m = {{2 a, 2 b}, {a, b}}
{lu, p, q, rank} = NCLUDecompositionWithCompletePivoting[m]", "Input"],
Cell[TextData[{"returns", " ", "the", " ", StyleBox[Cell[TextData[{Cell[TextData[{"left"}], "Text"]}]], FontSlant->"Italic"], " ", "and", " ", StyleBox[Cell[TextData[{Cell[TextData[{"right"}], "Text"]}]], FontSlant->"Italic"], " ", "permutation", " ", "lists"}], "Text"],
Cell["p = {2, 1}
q = {1, 2}", "Output"],
Cell[TextData[{"and", " ", Cell[BoxData[FormBox[RowBox[{"rank"}], TraditionalForm]]], " ", "equal", " ", "to", " ", Cell[BoxData[FormBox[RowBox[{"1"}], TraditionalForm]]], ".", " ", "Note", " ", "that", " ", Cell[BoxData[FormBox[RowBox[{"p = {2, 1}"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"q = {1,2}"}], TraditionalForm]]], " ", "tell", " ", "us", " ", "that", " ", "the", " ", "element", " ", "that", " ", "was", " ", "pivoted", " ", "on", " ", "was", " ", "the", " ", "symbol", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], ",", " ", "which", " ", "is", " ", "the", " ", "first", " ", "entry", " ", "of", " ", "the", " ", "second", " ", "row,", " ", "rather", " ", "then", " ", Cell[BoxData[FormBox[RowBox[{"2 a"}], TraditionalForm]]], ",", " ", "which", " ", "is", " ", "the", " ", "first", " ", "entry", " ", "of", " ", "the", " ", "first", " ", "row,", " ", "because", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], " ", "is", " ", StyleBox[Cell[TextData[{Cell[TextData[{"simpler"}], "Text"]}]], FontSlant->"Italic"], " ", "than", " ", Cell[BoxData[FormBox[RowBox[{"2 a"}], TraditionalForm]]], " ", ".", " ", "The", " ", Cell[ToExpression["L", TeXForm]], " ", "and", " ", Cell[ToExpression["U", TeXForm]], " ", "factors", " ", "can", " ", "be", " ", "obtained", " ", "as", " ", "before", " ", "using"}], "Text"],
Cell["{ll, uu} = GetFullLUMatrices[lu]", "Input"],
Cell[TextData[{"to", " ", "get"}], "Text"],
Cell["ll = {{1, 0}, {2, 1}}
uu = {{a, b}, {0, 0}}", "Output"],
Cell[TextData[{"Using", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], ":"}], "Text"],
Cell["MatrixForm[ll]
MatrixForm[uu]", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell[TextData[{Cell[ToExpression["L = \\begin{bmatrix} 
1 & 0 \\\\ 
2 & 1 
\\end{bmatrix}, \\qquad
U = \\begin{bmatrix} 
a & b \\\\ 
0 & 0 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"In", " ", "this", " ", "case,", " ", "to", " ", "verify", " ", "that", " ", Cell[ToExpression["P M Q = L U", TeXForm]], " ", "input"}], "Text"],
Cell["NCDot[ll, uu] - m[[p, q]]", "Input"],
Cell[TextData[{"which", " ", "should", " ", "return", " ", "a", " ", "zero", " ", "matrix.", " ", "As", " ", "with", " ", "partial", " ", "pivoting,", " ", "the", " ", "permutation", " ", "matrices", " ", Cell[ToExpression["P", TeXForm]], " ", "and", " ", Cell[ToExpression["Q", TeXForm]], " ", "are", " ", "never", " ", "constructed.", " ", "Instead", " ", "we", " ", "used", " ", Cell[BoxData[FormBox[RowBox[{"Part"}], TraditionalForm]]], " ", "(", Cell[BoxData[FormBox[RowBox[{"[[]]"}], TraditionalForm]]], ")", " ", "to", " ", "permute", " ", "both", " ", "rows", " ", "and", " ", "columns."}], "Text"],
Cell[TextData[{"LDL", " ", "Decomposition"}], "Subsubsection"],
Cell[TextData[{"Finally", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCLDLDecomposition"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCLDLDecomposition"]], " ", "computes", " ", "the", " ", Cell[ToExpression["LDL^T", TeXForm]], " ", "decomposition", " ", "of", " ", "symmetric", " ", "symbolic", " ", "nc", " ", "matrices.", " ", "For", " ", "example"}], "Text"],
Cell["m = {{a, b}, {b, c}}
{ldl, p, s, rank} = NCLDLDecomposition[m]", "Input"],
Cell[TextData[{"returns", " ", Cell[BoxData[FormBox[RowBox[{"ldl"}], TraditionalForm]]], ",", " ", "which", " ", "contain", " ", "the", " ", "factors,", " ", "and"}], "Text"],
Cell["p = {1, 2}
s = {1, 1}
rank = 2", "Output"],
Cell[TextData[{"The", " ", "list", " ", Cell[BoxData[FormBox[RowBox[{"p"}], TraditionalForm]]], " ", "encodes", " ", "left", " ", "and", " ", "right", " ", "permutations,", " ", Cell[BoxData[FormBox[RowBox[{"s"}], TraditionalForm]]], " ", "is", " ", "a", " ", "list", " ", "specifying", " ", "the", " ", "size", " ", "of", " ", "the", " ", "diagonal", " ", "blocks", " ", "(entries", " ", "can", " ", "be", " ", "either", " ", "1", " ", "or", " ", "2).", " ", "The", " ", "factors", " ", "can", " ", "be", " ", "obtained", " ", "using", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"GetLDUMatrices"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "GetLDUMatrices"]], " ", "as", " ", "in"}], "Text"],
Cell["{ll, dd, uu} = GetFullLDUMatrices[ldl, s]", "Input"],
Cell[TextData[{"which", " ", "in", " ", "this", " ", "case", " ", "returns"}], "Text"],
Cell["ll = {{1, 0}, {b**inv[a], 1}}
dd = {{a, 0}, {0, c - b**inv[a]**b}}
uu = {{1, inv[a]**b}, {0, 1}}}", "Output"],
Cell[TextData[{"Because", " ", Cell[ToExpression["P M P^T = L D L^T", TeXForm]], ","}], "Text"],
Cell["NCDot[ll, dd, uu] - m[[p, p]]", "Input"],
Cell[TextData[{"is", " ", "the", " ", "zero", " ", "matrix", " ", "and", " ", Cell[ToExpression["U = L^T", TeXForm]], "."}], "Text"],
Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCLDLDecomposition"}], TraditionalForm]]], " ", "works", " ", "only", " ", "on", " ", "symmetric", " ", "matrices", " ", "and,", " ", "whenever", " ", "possible,", " ", "will", " ", "make", " ", "invertibility", " ", "and", " ", "symmetry", " ", "assumptions", " ", "on", " ", "variables", " ", "so", " ", "that", " ", "it", " ", "can", " ", "run", " ", "successfully.", " ", "If", " ", "not", " ", "possible", " ", "it", " ", "will", " ", "warn", " ", "the", " ", "users."}], "Text"],
Cell[TextData[{StyleBox[Cell[TextData[{Cell[TextData[{"WARNING:"}], "Text"]}]], FontWeight->"Bold"], " ", "Prior", " ", "versions", " ", "contained", " ", "the", " ", "command", " ", Cell[BoxData[FormBox[RowBox[{"NCLDUDecomposition"}], TraditionalForm]]], " ", "which", " ", "was", " ", "deprecated", " ", "in", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Version", " ", "5"}], "Text"]}]], FontWeight->"Bold"], " ", "as", " ", "its", " ", "functionality", " ", "is", " ", "now", " ", "provided", " ", "by", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCLDLDecomposition"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCLDLDecomposition"]], ",", " ", "with", " ", "a", " ", "slightly", " ", "different", " ", "syntax."}], "Text", CellMargins->{{60,0},{0,0}}, Background->GrayLevel[0.85]],
Cell[TextData[{"Replace", " ", "with", " ", "Matrices"}], "Subsubsection"],
Cell[TextData[{Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixReplaceAll"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCMatrixReplaceAll"]], " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixReplaceRepeated"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCMatrixReplaceRepeated"]], " ", "are", " ", "special", " ", "versions", " ", "of", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCReplaceAll"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCReplaceAll"]], " ", "and", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCReplaceRepeated"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCReplaceRepeated"]], " ", "that", " ", "take", " ", "extra", " ", "steps", " ", "to", " ", "preserve", " ", "matrix", " ", "consistency", " ", "when", " ", "replacing", " ", "expressions", " ", "with", " ", "nc", " ", "matrices.", " ", "For", " ", "example,", " ", "with"}], "Text"],
Cell["m1 = {{a, b}, {c, d}}
m2 = {{d, 2}, {e, 3}}", "Input"],
Cell[TextData[{"and"}], "Text"],
Cell["M = {{a11,a12}}", "Input"],
Cell[TextData[{"the", " ", "call"}], "Text"],
Cell["MM = NCMatrixReplaceRepeated[M, {a11 -> m1, a12 -> m2}]", "Input"],
Cell[TextData[{"produces", " ", "as", " ", "a", " ", "result", " ", "the", " ", "matrix"}], "Text"],
Cell["{{a, b, d, 2}, {c, d, e, 3}}", "Output"],
Cell[TextData[{"or,", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], ":"}], "Text"],
Cell["MatrixForm[MM]", "Input"],
Cell[TextData[{"to", " ", "obtain"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix} 
a & b & d & 2 \\\\ 
c & d & e & 3 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"Note", " ", "how", " ", "the", " ", "symbols", " ", "were", " ", "treated", " ", "as", " ", "block-matrices", " ", "during", " ", "the", " ", "substitution.", " ", "As", " ", "a", " ", "second", " ", "example,", " ", "with"}], "Text"],
Cell["M = {{a11, 0}, {0, a22}}", "Input"],
Cell[TextData[{"the", " ", "command"}], "Text"],
Cell["MM = NCMatrixReplaceRepeated[M, {a11 -> m1, a22 -> m2}]", "Input"],
Cell[TextData[{"produces", " ", "the", " ", "matrix"}], "Text"],
Cell["{{a, b, 0, 0}, {c, d, 0, 0}, {0, 0, d, 2}, {0, 0, e, 3}}", "Output"],
Cell[TextData[{"or,", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"MatrixForm"}], TraditionalForm]]], ":"}], "Text"],
Cell["MatrixForm[MM]", "Input"],
Cell[TextData[{"to", " ", "obtain"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix} 
a & b & 0 & 0 \\\\ 
c & d & 0 & 0 \\\\ 
0 & 0 & d & 2 \\\\ 
0 & 0 & e & 3 
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"in", " ", "which", " ", "the", " ", Cell[BoxData[FormBox[RowBox[{"0"}], TraditionalForm]]], " ", "blocks", " ", "were", " ", "automatically", " ", "expanded", " ", "to", " ", "fit", " ", "the", " ", "adjacent", " ", "block", " ", "matrices."}], "Text"],
Cell[TextData[{"Another", " ", "feature", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"NCMatrixReplace"}], TraditionalForm]]], " ", "and", " ", "its", " ", "variants", " ", "is", " ", "its", " ", "ability", " ", "to", " ", "withhold", " ", "evaluation", " ", "until", " ", "all", " ", "matrix", " ", "substitutions", " ", "have", " ", "taken", " ", "place.", " ", "For", " ", "example,"}], "Text"],
Cell["NCMatrixReplaceAll[x**y + y, {x -> m1, y -> m2}]", "Input"],
Cell[TextData[{"produces"}], "Text"],
Cell["{{d + a**d + b**e, 2 + 2 a + 3 b}, 
 {e + c**d + d**e, 3 + 2 c + 3 d}}", "Output"],
Cell[TextData[{"Finally,", " ", Cell[BoxData[FormBox[RowBox[{"NCMatrixReplace"}], TraditionalForm]]], " ", "substitutes", " ", Cell[BoxData[FormBox[RowBox[{"NCInverse"}], TraditionalForm]]], " ", "for", " ", Cell[BoxData[FormBox[RowBox[{"inv"}], TraditionalForm]]], " ", "so", " ", "that,", " ", "for", " ", "instance,", " ", "the", " ", "result", " ", "of"}], "Text"],
Cell["rule = {x -> m1, y -> m2, id -> IdentityMatrix[2], z -> {{id,x},{x,id}}}
NCMatrixReplaceRepeated[inv[z], rule]", "Input"],
Cell[TextData[{"coincides", " ", "with"}], "Text"],
Cell["NCInverse[ArrayFlatten[{{IdentityMatrix[2], m1}, {m1, IdentityMatrix[2]}}]]", "Input"],
Cell[TextData[{"Quadratic", " ", "Polynomials,", " ", "Second", " ", "Directional", " ", "Derivatives", " ", "and", " ", "Convexity"}], "Subsection"],
Cell[TextData[{"The", " ", "closest", " ", "related", " ", "demo", " ", "to", " ", "the", " ", "material", " ", "in", " ", "this", " ", "section", " ", "is", " ", Cell[BoxData[FormBox[RowBox[{"NC/DEMOS/NCConvexity.nb"}], TraditionalForm]]], "."}], "Text"],
Cell[TextData[{"When", " ", "working", " ", "with", " ", "nc", " ", "quadratics", " ", "it", " ", "is", " ", "useful", " ", "to", " ", "be", " ", "able", " ", "to", " ", "\"", Cell[TextData[{"factor"}], "Text"], "\"", " ", "the", " ", "quadratic", " ", "into", " ", "the", " ", "following", " ", "form"}], "Text"],
Cell[TextData[{Cell[ToExpression["
    q(x) = c + s(x) + l(x) M r(x)
", TeXForm]]}], "Text"],
Cell[TextData[{"where", " ", Cell[ToExpression["s", TeXForm]], " ", "is", " ", "linear", " ", Cell[ToExpression["x", TeXForm]], " ", "and", " ", Cell[ToExpression["l", TeXForm]], " ", "and", " ", Cell[ToExpression["r", TeXForm]], " ", "are", " ", "vectors", " ", "and", " ", Cell[ToExpression["M", TeXForm]], " ", "is", " ", "a", " ", "matrix.", " ", "Load", " ", "the", " ", "package"}], "Text"],
Cell["<< NCQuadratic`", "Input"],
Cell[TextData[{"and", " ", "use", " ", "the", " ", "command", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCToNCQuadratic"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCToNCQuadratic"]], " ", "to", " ", "factor", " ", "an", " ", "nc", " ", "polynomial", " ", "into", " ", "the", " ", "the", " ", "above", " ", "form:"}], "Text"],
Cell["vars = {x, y};
expr = tp[x]**a**x**d + tp[x]**b**y + tp[y]**c**y + tp[y]**tp[b]**x**d;
{const, lin, left, middle, right} = NCToNCQuadratic[expr, vars];", "Input"],
Cell[TextData[{"which", " ", "returns"}], "Text"],
Cell["left = {tp[x],tp[y]}
right = {y, x**d}
middle = {{a,b}, {tp[b],c}}", "Output"],
Cell[TextData[{"and", " ", "zero", " ", Cell[BoxData[FormBox[RowBox[{"const"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"lin"}], TraditionalForm]]], ".", " ", "The", " ", "format", " ", "for", " ", "the", " ", "linear", " ", "part", " ", Cell[BoxData[FormBox[RowBox[{"lin"}], TraditionalForm]]], " ", "will", " ", "be", " ", "discussed", " ", "later", " ", "in", " ", "Section", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{"Linear"}], "Text"]}]], FontSlant->"Italic"], "Linear"]], ".", " ", "Note", " ", "that", " ", "coefficients", " ", "of", " ", "an", " ", "nc", " ", "quadratic", " ", "may", " ", "also", " ", "appear", " ", "on", " ", "the", " ", "left", " ", "and", " ", "right", " ", "vectors,", " ", "as", " ", Cell[BoxData[FormBox[RowBox[{"d"}], TraditionalForm]]], " ", "did", " ", "in", " ", "the", " ", "above", " ", "example.", " ", "Conversely,", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCQuadraticToNC"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCQuadraticToNC"]], " ", "converts", " ", "a", " ", "list", " ", "with", " ", "factors", " ", "back", " ", "to", " ", "an", " ", "nc", " ", "expression", " ", "as", " ", "in:"}], "Text"],
Cell["NCQuadraticToNC[{const, lin, left, middle, right}]", "Input"],
Cell[TextData[{"which", " ", "results", " ", "in"}], "Text"],
Cell["(tp[x]**b + tp[y]**c)**y + (tp[x]**a + tp[y]**tp[b])**x**d", "Output"],
Cell[TextData[{"An", " ", "interesting", " ", "application", " ", "is", " ", "the", " ", "verification", " ", "of", " ", "the", " ", "domain", " ", "in", " ", "which", " ", "an", " ", "nc", " ", "rational", " ", "function", " ", "is", " ", StyleBox[Cell[TextData[{Cell[TextData[{"convex"}], "Text"]}]], FontSlant->"Italic"], ".", " ", "This", " ", "uses", " ", "the", " ", "second", " ", "directional", " ", "derivative,", " ", "called", " ", "the", " ", "Hessian.", " ", "Take", " ", "for", " ", "example", " ", "the", " ", "quartic"}], "Text"],
Cell["expr = x^4;", "Input"],
Cell[TextData[{"and", " ", "calculate", " ", "its", " ", "noncommutative", " ", "directional", " ", StyleBox[Cell[TextData[{Cell[TextData[{"Hessian"}], "Text"]}]], FontSlant->"Italic"]}], "Text"],
Cell["hes = NCHessian[expr, {x, h}]", "Input"],
Cell[TextData[{"This", " ", "command", " ", "returns"}], "Text"],
Cell["2 h^2**x^2 + 2 h**x**h**x + 2 h**x^2**h + 2 x**h^2**x + 2 x**h**x**h + 2 x^2**h^2", "Output"],
Cell[TextData[{"which", " ", "is", " ", "quadratic", " ", "in", " ", "the", " ", "direction", " ", Cell[BoxData[FormBox[RowBox[{"h"}], TraditionalForm]]], ".", " ", "The", " ", "decomposition", " ", "of", " ", "the", " ", "nc", " ", "Hessian", " ", "using", " ", Cell[BoxData[FormBox[RowBox[{"NCToNCQuadratic"}], TraditionalForm]]]}], "Text"],
Cell["{const, lin, left, middle, right} = NCToNCQuadratic[hes, {h}];", "Input"],
Cell[TextData[{"produces"}], "Text"],
Cell["left = {h, x**h, x^2**h}
right = {h**x^2, h**x, h}
middle = {{2, 2 x, 2 x^2},{0, 2, 2 x},{0, 0, 2}}", "Output"],
Cell[TextData[{"Note", " ", "that", " ", "the", " ", "middle", " ", "matrix"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix}
2 & 2 x & 2 x^2 \\\\
0 & 2 & 2 x \\\\
0 & 0 & 2
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"is", " ", "not", " ", StyleBox[Cell[TextData[{Cell[TextData[{"symmetric"}], "Text"]}]], FontSlant->"Italic"], ",", " ", "as", " ", "one", " ", "might", " ", "have", " ", "expected.", " ", "The", " ", "command", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCQuadraticMakeSymmetric"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCQuadraticMakeSymmetric"]], " ", "can", " ", "fix", " ", "that", " ", "and", " ", "produce", " ", "a", " ", "symmetric", " ", "decomposition.", " ", "For", " ", "the", " ", "above", " ", "example"}], "Text"],
Cell["{const, lin, sleft, smiddle, sright} = 
  NCQuadraticMakeSymmetric[{const, lin, left, middle, right}, 
                           SymmetricVariables -> {x, h}]", "Input"],
Cell[TextData[{"results", " ", "in"}], "Text"],
Cell["sleft = {x^2**h, x**h, h}
sright = {h**x^2, h**x, h}
middle = {{0, 0, 2}, {0, 2, 2 x}, {2, 2 x, 2 x^2}}", "Output"],
Cell[TextData[{"in", " ", "which", " ", Cell[BoxData[FormBox[RowBox[{"middle"}], TraditionalForm]]], " ", "is", " ", "the", " ", "symmetric", " ", "matrix"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix}
0 & 0 & 2 \\\\
0 & 2 & 2 x \\\\
2 & 2 x & 2 x^2
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"Note", " ", "the", " ", "argument", " ", Cell[BoxData[FormBox[RowBox[{"SymmetricVariables -> {x,h}"}], TraditionalForm]]], " ", "which", " ", "tells", " ", Cell[BoxData[FormBox[RowBox[{"NCQuadraticMakeSymmetric"}], TraditionalForm]]], " ", "to", " ", "consider", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"y"}], TraditionalForm]]], " ", "as", " ", "symmetric", " ", "variables.", " ", "Because", " ", "the", " ", Cell[BoxData[FormBox[RowBox[{"middle"}], TraditionalForm]]], " ", "matrix", " ", "is", " ", "never", " ", "positive", " ", "semidefinite", " ", "for", " ", "any", " ", "possible", " ", "value", " ", "of", " ", Cell[ToExpression["x", TeXForm]], " ", "the", " ", "conclusion", (* See [^3] *), " ", "is", " ", "that", " ", "the", " ", "nc", " ", "quartic", " ", Cell[ToExpression["x^4", TeXForm]], " ", "is", " ", StyleBox[Cell[TextData[{Cell[TextData[{"not", " ", "convex"}], "Text"]}]], FontSlant->"Italic"], "."}], "Text"],
Cell[TextData[{"The", " ", "production", " ", "of", " ", "such", " ", "symmetric", " ", "quadratic", " ", "decompositions", " ", "is", " ", "automated", " ", "by", " ", "the", " ", "convenience", " ", "command", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCMatrixOfQuadratic"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCMatrixOfQuadratic"]], ".", " ", "Verify", " ", "that"}], "Text"],
Cell["{sleft, smiddle, sright} = NCMatrixOfQuadratic[hes, {h}]", "Input"],
Cell[TextData[{"automatically", " ", "assumes", " ", "that", " ", "both", " ", Cell[BoxData[FormBox[RowBox[{"x"}], TraditionalForm]]], " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"h"}], TraditionalForm]]], " ", "are", " ", "symmetric", " ", "variables", " ", "and", " ", "produces", " ", "suitable", " ", "left", " ", "and", " ", "right", " ", "vectors", " ", "as", " ", "well", " ", "as", " ", "a", " ", "symmetric", " ", "middle", " ", "matrix.", " ", "Now", " ", "we", " ", "illustrate", " ", "the", " ", "application", " ", "of", " ", "such", " ", "command", " ", "to", " ", "checking", " ", "the", " ", "convexity", " ", "region", " ", "of", " ", "a", " ", "noncommutative", " ", "rational", " ", "function."}], "Text"],
Cell[TextData[{"If", " ", "one", " ", "is", " ", "interested", " ", "in", " ", "checking", " ", "convexity", " ", "of", " ", "nc", " ", "rationals", " ", "the", " ", "package", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCConvexity"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "PackageNCConvexity"]], " ", "has", " ", "functions", " ", "that", " ", "automate", " ", "the", " ", "whole", " ", "process,", " ", "including", " ", "the", " ", "calculation", " ", "of", " ", "the", " ", "Hessian", " ", "and", " ", "the", " ", "middle", " ", "matrix,", " ", "followed", " ", "by", " ", "the", " ", "diagonalization", " ", "of", " ", "the", " ", "middle", " ", "matrix", " ", "as", " ", "produced", " ", "by", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCLDLDecomposition"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCLDLDecomposition"]], "."}], "Text"],
Cell[TextData[{"For", " ", "example,", " ", "the", " ", "commands", " ", "evaluate", " ", "the", " ", "nc", " ", "Hessian", " ", "and", " ", "calculates", " ", "its", " ", "quadratic", " ", "decomposition"}], "Text"],
Cell["expr = (x + b**y)**inv[1 - a**x**a + b**y + y**b]**(x + y**b);
{left, middle, right} = NCMatrixOfQuadratic[NCHessian[expr, {x, h}], {h}];", "Input"],
Cell[TextData[{"The", " ", "resulting", " ", "middle", " ", "matrix", " ", "can", " ", "be", " ", "factored", " ", "using"}], "Text"],
Cell["{ldl, p, s, rank} = NCLDLDecomposition[middle];
{ll, dd, uu} = GetLDUMatrices[ldl, s];", "Input"],
Cell[TextData[{"which", " ", "produces", " ", "the", " ", "diagonal", " ", "factors"}], "Text"],
Cell[TextData[{Cell[ToExpression["\\begin{bmatrix}
  2 (1 + b y + y b - a x a)^{-1} & 0 & 0 \\\\
  0 & 0 & 0 \\\\
  0 & 0 & 0
\\end{bmatrix}", TeXForm]]}], "Text"],
Cell[TextData[{"which", " ", "indicates", " ", "the", " ", "the", " ", "original", " ", "nc", " ", "rational", " ", "is", " ", "convex", " ", "whenever"}], "Text"],
Cell[TextData[{Cell[ToExpression["
(1 + b y + y b - a x a)^{-1} \\succeq 0
", TeXForm]]}], "Text"],
Cell[TextData[{"or,", " ", "equivalently,", " ", "whenever"}], "Text"],
Cell[TextData[{Cell[ToExpression["
1 + b y + y b - a x a \\succeq 0
", TeXForm]]}], "Text"],
Cell[TextData[{"The", " ", "above", " ", "sequence", " ", "of", " ", "calculations", " ", "is", " ", "automated", " ", "by", " ", "the", " ", "command", " ", Cell[Hyperlink[StyleBox[Cell[TextData[{Cell[TextData[{Cell[BoxData[FormBox[RowBox[{"NCConvexityRegion"}], TraditionalForm]]]}], "Text"]}]], FontSlant->"Italic"], "NCConvexityRegion"]], " ", "as", " ", "in"}], "Text"],
Cell["<< NCConvexity`
NCConvexityRegion[expr, {x}]", "Input"],
Cell[TextData[{"which", " ", "results", " ", "in"}], "Text"],
Cell["{2 inv[1 + b**y + y**b - a**x**a], 0}", "Output"],
Cell[TextData[{"which", " ", "correspond", " ", "to", " ", "the", " ", "diagonal", " ", "entries", " ", "of", " ", "the", " ", "LDL", " ", "decomposition", " ", "of", " ", "the", " ", "middle", " ", "matrix", " ", "of", " ", "the", " ", "nc", " ", "Hessian."}], "Text"]
,
Cell["(* [^1]: *)", "Text"],
Cell[TextData[{"The", " ", "transpose", " ", "of", " ", "the", " ", "gradient", " ", "of", " ", "the", " ", "nc", " ", "expression", " ", Cell[BoxData[FormBox[RowBox[{"expr"}], TraditionalForm]]], " ", "is", " ", "the", " ", "derivative", " ", "with", " ", "respect", " ", "to", " ", "the", " ", "direction", " ", Cell[BoxData[FormBox[RowBox[{"h"}], TraditionalForm]]], " ", "of", " ", "the", " ", "trace", " ", "of", " ", "the", " ", "directional", " ", "derivative", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"expr"}], TraditionalForm]]], " ", "in", " ", "the", " ", "direction", " ", Cell[BoxData[FormBox[RowBox[{"h"}], TraditionalForm]]], "."}], "Text"]
,
Cell["(* [^2]: *)", "Text"],
Cell[TextData[{"Contrary", " ", "to", " ", "what", " ", "happens", " ", "with", " ", "symbolic", " ", "inversion", " ", "of", " ", "matrices", " ", "with", " ", "commutative", " ", "entries,", " ", "there", " ", "exist", " ", "multiple", " ", "formulas", " ", "for", " ", "the", " ", "symbolic", " ", "inverse", " ", "of", " ", "a", " ", "matrix", " ", "with", " ", "noncommutative", " ", "entries.", " ", "Furthermore,", " ", "it", " ", "may", " ", "be", " ", "possible", " ", "that", " ", "none", " ", "of", " ", "such", " ", "formulas", " ", "is", " ", "\"", Cell[TextData[{"correct"}], "Text"], "\"", ".", " ", "Indeed,", " ", "it", " ", "is", " ", "easy", " ", "to", " ", "construct", " ", "a", " ", "matrix", " ", Cell[BoxData[FormBox[RowBox[{"m"}], TraditionalForm]]], " ", "with", " ", "block", " ", "structure", " ", "as", " ", "shown", " ", "that", " ", "is", " ", "invertible", " ", "but", " ", "for", " ", "which", " ", "none", " ", "of", " ", "the", " ", "blocks", " ", Cell[BoxData[FormBox[RowBox[{"a"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"b"}], TraditionalForm]]], ",", " ", Cell[BoxData[FormBox[RowBox[{"c"}], TraditionalForm]]], ",", " ", "and", " ", Cell[BoxData[FormBox[RowBox[{"d"}], TraditionalForm]]], " ", "are", " ", "invertible.", " ", "In", " ", "this", " ", "case", " ", "no", " ", StyleBox[Cell[TextData[{Cell[TextData[{"correct"}], "Text"]}]], FontSlant->"Italic"], " ", "formula", " ", "exists", " ", "for", " ", "the", " ", "calculation", " ", "of", " ", "the", " ", "inverse", " ", "of", " ", Cell[BoxData[FormBox[RowBox[{"m"}], TraditionalForm]]], "."}], "Text"]
,
Cell["(* [^3]: *)", "Text"],
Cell[TextData[{"This", " ", "is", " ", "in", " ", "contrast", " ", "with", " ", "the", " ", "commutative", " ", Cell[ToExpression["x^4", TeXForm]], " ", "which", " ", "is", " ", "convex", " ", "everywhere.", " ", "See", " ", Cell[TextData[{"[@camino:MIS:2003]"}], "Text"], " ", "for", " ", "details."}], "Text"]
}]
